import{I as H,r as h,z as J,o as Y,f as p,k as m,l as x,q as n,s as r,v as g,t as b,A as se,m as e,B as q,C as t,D as V,E as I,F as P,H as C,P as oe,J as Z,K as ee,G as O}from"./entry.d2eac3d2.js";import{p as te}from"./products.6ebf0fdf.js";import{p as re}from"./types.370b36dc.js";import{c as R,r as j,u as ae}from"./index.edcb52a9.js";import{V as ne,a as ie}from"./VSkeletonLoader.d47c2c61.js";import{m as le}from"./measuringUnits.441691f4.js";const de={class:"update_banner"},ce={class:"field_container"},pe=e("label",{for:"typeName"},"اسم المنتج",-1),ue={class:"input_parent position-relative"},_e={key:0,class:"err_msg"},me={class:"field_container"},fe=e("label",{for:"typeName"},"وحدات وزن المنتج",-1),ve={class:"input_parent position-relative"},ge={key:0,class:"err_msg"},be={class:"field_container"},ye=e("label",{for:"typeName"},"فروزات المنتج",-1),he={class:"input_parent position-relative"},we={key:0,class:"err_msg"},$e={style:{"max-height":"200px","overflow-y":"auto"}},xe=e("thead",null,[e("tr",null,[e("th",{style:{"background-color":"#f3f3f3 !important"},class:"text-center font-weight-bold"}," اسم الفرز "),e("th",{style:{"background-color":"#f3f3f3 !important"},class:"text-center font-weight-bold"}," سعر الاردب "),e("th",{style:{"background-color":"#f3f3f3 !important"},class:"text-center font-weight-bold"}," وزن الاردب ")])],-1),Pe={style:{"font-size":"15px"}},Te={class:"text-center"},ke={class:"field_container pt-5"},Ue={class:"input_parent"},Ee=["onUpdate:modelValue","onKeyup"],Ne={class:"err_msg d-inline-block mt-1",style:{"font-size":"12px"}},Ve={class:"text-center"},Ae={class:"field_container pt-5"},Ce={class:"input_parent"},Le=["onUpdate:modelValue","onKeyup"],ze={class:"err_msg d-inline-block mt-1",style:{"font-size":"12px"}},De={class:"actions text-center mt-5"},Me={__name:"Update",props:["openPopup","toUpdate","units"],emits:["closePopup","regetData"],setup(w,{emit:T}){const y=w,E=te(),A=re(),{productTypes:$}=H(A),o=h({name:null,productType:[],measuringUnits:[]}),_=h(!1),f=h(!1),M=h({name:{required:R.withMessage("هذا الحقل مطلوب",j)},productType:{required:R.withMessage("هذا الحقل مطلوب",j)},measuringUnits:{required:R.withMessage("هذا الحقل مطلوب",j)}});J(()=>_.value,s=>{s||setTimeout(()=>{T("closePopup")},200)});const L=s=>{if(s.priceErr="",!s.ardabPrice){s.priceErr="هذا الحقل مطلوب";return}if(isNaN(s.ardabPrice)){s.priceErr="هذا الحقل يقبل ارقام فقط";return}if(Number(s.ardabPrice)<=0){s.priceErr="يجب ان يكون الرقم اكبر من 0";return}},z=s=>{if(s.weightErr="",!s.weightPerArdab){s.weightErr="هذا الحقل مطلوب";return}if(isNaN(s.weightPerArdab)){s.weightErr="هذا الحقل يقبل ارقام فقط";return}if(Number(s.weightPerArdab)<=0){s.weightErr="يجب ان يكون الرقم اكبر من 0";return}};let c=ae(M,o);const D=async()=>{if(await c.value.$validate()){let a=!0;for(let l=0;l<o.value.productType.length;l++){if(!o.value.productType[l].ardabPrice){o.value.productType[l].priceErr="هذا الحقل مطلوب",a=!1;break}if(isNaN(o.value.productType[l].ardabPrice)){o.value.productType[l].priceErr="هذا الحقل يقبل ارقام فقط",a=!1;break}if(Number(o.value.productType[l].ardabPrice)<=0){o.value.productType[l].priceErr="يجب ان يكون الرقم اكبر من 0",a=!1;break}if(!o.value.productType[l].weightPerArdab){o.value.productType[l].weightErr="هذا الحقل مطلوب",a=!1;break}if(isNaN(o.value.productType[l].weightPerArdab)){o.value.productType[l].weightErr="هذا الحقل يقبل ارقام فقط",a=!1;break}if(Number(o.value.productType[l].weightPerArdab)<=0){o.value.productType[l].weightErr="يجب ان يكون الرقم اكبر من 0",a=!1;break}}if(a){const l={name:o.value.name,locked:y.toUpdate.selectable.locked,typePriceList:[],id:y.toUpdate.selectable.id,measuringUnitList:[]};o.value.productType.forEach(u=>{u.priceErr="",u.weightErr="",l.typePriceList.push({pricePerKilo:parseFloat(u.ardabPrice)/parseFloat(u.weightPerArdab),ardabPrice:u.ardabPrice,weightPerArdab:u.weightPerArdab,productType:{id:u.id}})}),o.value.measuringUnits.forEach(u=>{l.measuringUnitList.push({id:u.id})}),f.value=!0,await E.doUpdateProduct(l)&&(T("regetData"),_.value=!1),f.value=!1}}};return Y(async()=>{_.value=y.openPopup,await A.doGetProductTypes(),y.toUpdate.selectable.typePriceList.forEach(s=>{o.value.productType.push({...s,selectedId:s.productType.id,selectedName:s.productType.name,disabled:!0}),$.value.content.forEach(a=>{a.id==s.productType.id&&(a.disabled=!0)})}),y.toUpdate.selectable.measuringUnitList.forEach(s=>{o.value.measuringUnits.push(s),y.units.content.forEach(a=>{a.id==s.id&&(a.disabled=!0)})}),o.value.name=y.toUpdate.selectable.name}),(s,a)=>{const l=p("v-card-title"),k=p("v-icon"),u=p("v-col"),S=p("v-list-item"),K=p("v-autocomplete"),v=p("v-row"),N=p("v-container"),Q=p("v-form"),G=p("v-table"),F=p("v-divider"),W=p("v-btn"),X=p("v-card"),d=p("v-dialog");return m(),x("div",de,[n(d,{modelValue:t(_),"onUpdate:modelValue":a[5]||(a[5]=i=>O(_)?_.value=i:null),width:"700",persistent:""},{default:r(()=>[n(X,{class:"pb-5"},{default:r(()=>[n(l,{class:"mb-0 text-center bg-grey-lighten-3 main_title font-safe-bold",style:{"font-size":"22px"}},{default:r(()=>[g(b(w.toUpdate?"تعديل منتج":"اضافة منتج جديد"),1)]),_:1}),n(Q,{class:"pa-5",onSubmit:a[3]||(a[3]=se(()=>{},["prevent"]))},{default:r(()=>[n(N,null,{default:r(()=>[n(v,{dir:"rtl"},{default:r(()=>[n(u,{cols:"12",md:"6"},{default:r(()=>[e("div",ce,[pe,e("div",ue,[q(e("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=i=>t(o).name=i),placeholder:"اسم المنتج",name:"typeName",id:"typeName",class:V(t(c).$errors.find(i=>i.$property=="name")?"err_field":"")},null,2),[[I,t(o).name]]),n(k,{class:"position-absolute"},{default:r(()=>[g("mdi-rename-outline")]),_:1})])]),t(c).$errors.find(i=>i.$property=="name")?(m(),x("span",_e,b(t(c).$errors.find(i=>i.$property=="name").$message),1)):P("",!0)]),_:1}),t($).content?(m(),C(u,{key:0,cols:"12",md:"6",class:"mt-0"},{default:r(()=>[e("div",me,[fe,e("div",ve,[n(K,{items:w.units.content,"item-title":"name","item-value":"id",transition:"slide-y-transition","return-object":"",variant:"outlined",chips:"",multiple:"",placeholder:"وحدات وزن المنتج","hide-details":"",modelValue:t(o).measuringUnits,"onUpdate:modelValue":a[1]||(a[1]=i=>t(o).measuringUnits=i),class:V(t(c).$errors.find(i=>i.$property=="measuringUnits")?"err_field":"")},{item:r(({props:i,item:U})=>[n(S,oe(i,{disabled:U.raw.disabled}),null,16,["disabled"])]),_:1},8,["items","modelValue","class"]),n(k,{class:"position-absolute"},{default:r(()=>[g("mdi-shape-outline")]),_:1})])]),t(c).$errors.find(i=>i.$property=="productType")?(m(),x("span",ge,b(t(c).$errors.find(i=>i.$property=="productType").$message),1)):P("",!0)]),_:1})):P("",!0),t($).content?(m(),C(u,{key:1,cols:"12",class:"mt-0"},{default:r(()=>[e("div",be,[ye,e("div",he,[n(K,{items:t($).content,"item-title":"name","item-value":"selectedId",transition:"slide-y-transition","return-object":"",variant:"outlined",chips:"",multiple:"",placeholder:"فروزات المنتج","hide-details":"",modelValue:t(o).productType,"onUpdate:modelValue":a[2]||(a[2]=i=>t(o).productType=i),class:V(t(c).$errors.find(i=>i.$property=="productType")?"err_field":"")},{item:r(({props:i,item:U})=>[n(S,oe(i,{disabled:U.raw.disabled}),null,16,["disabled"])]),_:1},8,["items","modelValue","class"]),n(k,{class:"position-absolute"},{default:r(()=>[g("mdi-shape-outline")]),_:1})])]),t(c).$errors.find(i=>i.$property=="productType")?(m(),x("span",we,b(t(c).$errors.find(i=>i.$property=="productType").$message),1)):P("",!0)]),_:1})):P("",!0)]),_:1})]),_:1})]),_:1}),e("div",$e,[t(o).productType.length?(m(),C(G,{key:0,class:"text-center w-100"},{default:r(()=>[xe,(m(!0),x(Z,null,ee(t(o).productType,(i,U)=>(m(),x("tbody",{key:i.id},[e("tr",null,[e("td",Pe,b(i.selectedName),1),e("td",Te,[e("div",ke,[e("div",Ue,[q(e("input",{class:V(["px-0 text-center",i.priceErr?"err_field":""]),style:{width:"200px"},placeholder:"سعر الاردب",type:"text","onUpdate:modelValue":B=>i.ardabPrice=B,onKeyup:B=>L(i)},null,42,Ee),[[I,i.ardabPrice]])]),e("span",Ne,b(i.priceErr),1)])]),e("td",Ve,[e("div",Ae,[e("div",Ce,[q(e("input",{class:V(["px-0 text-center",i.weightErr?"err_field":""]),style:{width:"200px"},placeholder:"وزن الاردب",type:"text","onUpdate:modelValue":B=>i.weightPerArdab=B,onKeyup:B=>z(i)},null,42,Le),[[I,i.weightPerArdab]])]),e("span",ze,b(i.weightErr),1)])])])]))),128))]),_:1})):P("",!0)]),n(F,{class:"mt-5"}),n(F),e("div",De,[n(W,{color:"red",class:"mr-3",onClick:a[4]||(a[4]=i=>_.value=!1),disabled:t(f)},{default:r(()=>[g("الغاء")]),_:1},8,["disabled"]),n(W,{color:"green",type:"submit",onClick:D,loading:t(f)},{default:r(()=>[g("حفظ")]),_:1},8,["loading"])])]),_:1})]),_:1},8,["modelValue"])])}}},Se=Me,Ke={class:"update_banner"},qe={class:"field_container"},Ie=e("label",{for:"typeName"},"اسم المنتج",-1),Re={class:"input_parent position-relative"},je={key:0,class:"err_msg"},Fe={class:"field_container"},Be=e("label",{for:"typeName"},"وحدات وزن المنتج",-1),Ge={class:"input_parent position-relative"},We={key:0,class:"err_msg"},He={class:"field_container"},Je=e("label",{for:"typeName"},"فروزات المنتج",-1),Oe={class:"input_parent position-relative"},Qe={key:0,class:"err_msg"},Xe={style:{"max-height":"200px","overflow-y":"auto"}},Ye=e("thead",null,[e("tr",null,[e("th",{style:{"background-color":"#f3f3f3 !important"},class:"text-center font-weight-bold"}," اسم الفرز "),e("th",{style:{"background-color":"#f3f3f3 !important"},class:"text-center font-weight-bold"}," سعر الاردب "),e("th",{style:{"background-color":"#f3f3f3 !important"},class:"text-center font-weight-bold"}," وزن الاردب "),e("th",{style:{"background-color":"#f3f3f3 !important"},class:"text-center font-weight-bold"}," حذف ")])],-1),Ze={style:{"font-size":"15px"}},et={class:"text-center"},tt={class:"field_container pt-5"},ot={class:"input_parent"},st=["onUpdate:modelValue","onKeyup"],rt={class:"err_msg d-inline-block mt-1",style:{"font-size":"12px"}},at={class:"text-center"},nt={class:"field_container pt-5"},it={class:"input_parent"},lt=["onUpdate:modelValue","onKeyup"],dt={class:"err_msg d-inline-block mt-1",style:{"font-size":"12px"}},ct={class:"actions text-center mt-5"},pt={__name:"Add",props:["openPopup","toUpdate","units"],emits:["closePopup","regetData"],setup(w,{emit:T}){const y=w,E=te(),A=re(),{productTypes:$}=H(A),o=h({name:null,productType:[],measuringUnits:[]}),_=h(!1),f=h(!1),M=h({name:{required:R.withMessage("هذا الحقل مطلوب",j)},productType:{required:R.withMessage("هذا الحقل مطلوب",j)},measuringUnits:{required:R.withMessage("هذا الحقل مطلوب",j)}});J(()=>_.value,s=>{s||setTimeout(()=>{T("closePopup")},200)});const L=s=>{if(s.priceErr="",!s.ardabPrice){s.priceErr="هذا الحقل مطلوب";return}if(isNaN(s.ardabPrice)){s.priceErr="هذا الحقل يقبل ارقام فقط";return}if(Number(s.ardabPrice)<=0){s.priceErr="يجب ان يكون الرقم اكبر من 0";return}},z=s=>{if(s.weightErr="",!s.weightPerArdab){s.weightErr="هذا الحقل مطلوب";return}if(isNaN(s.weightPerArdab)){s.weightErr="هذا الحقل يقبل ارقام فقط";return}if(Number(s.weightPerArdab)<=0){s.weightErr="يجب ان يكون الرقم اكبر من 0";return}};let c=ae(M,o);const D=async()=>{if(await c.value.$validate()){f.value=!0;let a=!0;for(let l=0;l<o.value.productType.length;l++){if(!o.value.productType[l].ardabPrice){o.value.productType[l].priceErr="هذا الحقل مطلوب",a=!1;break}if(isNaN(o.value.productType[l].ardabPrice)){o.value.productType[l].priceErr="هذا الحقل يقبل ارقام فقط",a=!1;break}if(Number(o.value.productType[l].ardabPrice)<=0){o.value.productType[l].priceErr="يجب ان يكون الرقم اكبر من 0",a=!1;break}if(!o.value.productType[l].weightPerArdab){o.value.productType[l].weightErr="هذا الحقل مطلوب",a=!1;break}if(isNaN(o.value.productType[l].weightPerArdab)){o.value.productType[l].weightErr="هذا الحقل يقبل ارقام فقط",a=!1;break}if(Number(o.value.productType[l].weightPerArdab)<=0){o.value.productType[l].weightErr="يجب ان يكون الرقم اكبر من 0",a=!1;break}}if(a){const l={name:o.value.name,locked:!1,typePriceList:[],measuringUnitList:[]};o.value.productType.forEach(u=>{u.priceErr="",u.weightErr="",l.typePriceList.push({pricePerKilo:parseFloat(u.ardabPrice)/parseFloat(u.weightPerArdab),ardabPrice:u.ardabPrice,weightPerArdab:u.weightPerArdab,productType:{id:u.id}})}),o.value.measuringUnits.forEach(u=>{l.measuringUnitList.push({id:u.id})}),await E.doAddProduct(l)&&(T("regetData"),_.value=!1)}f.value=!1}};return Y(()=>{A.doGetProductTypes(),_.value=y.openPopup}),(s,a)=>{const l=p("v-card-title"),k=p("v-icon"),u=p("v-col"),S=p("v-autocomplete"),K=p("v-row"),v=p("v-container"),N=p("v-form"),Q=p("v-table"),G=p("v-divider"),F=p("v-btn"),W=p("v-card"),X=p("v-dialog");return m(),x("div",Ke,[n(X,{modelValue:t(_),"onUpdate:modelValue":a[5]||(a[5]=d=>O(_)?_.value=d:null),width:"800",persistent:""},{default:r(()=>[n(W,{class:"pb-5"},{default:r(()=>[n(l,{class:"mb-0 text-center bg-grey-lighten-3 main_title font-safe-bold",style:{"font-size":"22px"}},{default:r(()=>[g(b(w.toUpdate?"تعديل منتج":"اضافة منتج جديد"),1)]),_:1}),n(N,{class:"pa-5",onSubmit:a[3]||(a[3]=se(()=>{},["prevent"]))},{default:r(()=>[n(v,null,{default:r(()=>[n(K,{dir:"rtl"},{default:r(()=>[n(u,{cols:"12",md:"6"},{default:r(()=>[e("div",qe,[Ie,e("div",Re,[q(e("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=d=>t(o).name=d),placeholder:"اسم المنتج",name:"typeName",id:"typeName",class:V(t(c).$errors.find(d=>d.$property=="name")?"err_field":"")},null,2),[[I,t(o).name]]),n(k,{class:"position-absolute"},{default:r(()=>[g("mdi-rename-outline")]),_:1})])]),t(c).$errors.find(d=>d.$property=="name")?(m(),x("span",je,b(t(c).$errors.find(d=>d.$property=="name").$message),1)):P("",!0)]),_:1}),t($).content?(m(),C(u,{key:0,cols:"12",md:"6",class:"mt-0"},{default:r(()=>[e("div",Fe,[Be,e("div",Ge,[n(S,{items:w.units.content,"item-title":"name","item-value":"id",transition:"slide-y-transition","return-object":"",variant:"outlined",chips:"",multiple:"",placeholder:"وحدات وزن المنتج","hide-details":"",modelValue:t(o).measuringUnits,"onUpdate:modelValue":a[1]||(a[1]=d=>t(o).measuringUnits=d),class:V(t(c).$errors.find(d=>d.$property=="measuringUnits")?"err_field":"")},null,8,["items","modelValue","class"]),n(k,{class:"position-absolute"},{default:r(()=>[g("mdi-shape-outline")]),_:1})])]),t(c).$errors.find(d=>d.$property=="productType")?(m(),x("span",We,b(t(c).$errors.find(d=>d.$property=="productType").$message),1)):P("",!0)]),_:1})):P("",!0),t($).content?(m(),C(u,{key:1,cols:"12",class:"mt-0"},{default:r(()=>[e("div",He,[Je,e("div",Oe,[n(S,{items:t($).content,"item-title":"name","item-value":"id",transition:"slide-y-transition","return-object":"",variant:"outlined",chips:"",multiple:"",placeholder:"فروزات المنتج","hide-details":"",modelValue:t(o).productType,"onUpdate:modelValue":a[2]||(a[2]=d=>t(o).productType=d),class:V(t(c).$errors.find(d=>d.$property=="productType")?"err_field":"")},null,8,["items","modelValue","class"]),n(k,{class:"position-absolute"},{default:r(()=>[g("mdi-shape-outline")]),_:1})])]),t(c).$errors.find(d=>d.$property=="productType")?(m(),x("span",Qe,b(t(c).$errors.find(d=>d.$property=="productType").$message),1)):P("",!0)]),_:1})):P("",!0)]),_:1})]),_:1})]),_:1}),e("div",Xe,[t(o).productType.length?(m(),C(Q,{key:0,class:"text-center w-100"},{default:r(()=>[Ye,(m(!0),x(Z,null,ee(t(o).productType,(d,i)=>(m(),x("tbody",{key:d.id},[e("tr",null,[e("td",Ze,b(d.name),1),e("td",et,[e("div",tt,[e("div",ot,[q(e("input",{class:V(["px-0 text-center",d.priceErr?"err_field":""]),style:{width:"200px"},placeholder:"سعر الاردب",type:"text","onUpdate:modelValue":U=>d.ardabPrice=U,onKeyup:U=>L(d)},null,42,st),[[I,d.ardabPrice]])]),e("span",rt,b(d.priceErr),1)])]),e("td",at,[e("div",nt,[e("div",it,[q(e("input",{class:V(["px-0 text-center",d.weightErr?"err_field":""]),style:{width:"200px"},placeholder:"وزن الاردب",type:"text","onUpdate:modelValue":U=>d.weightPerArdab=U,onKeyup:U=>z(d)},null,42,lt),[[I,d.weightPerArdab]])]),e("span",dt,b(d.weightErr),1)])]),e("td",null,[n(k,{color:"red",onClick:U=>t(o).productType.splice(i,1)},{default:r(()=>[g("mdi-lock")]),_:2},1032,["onClick"])])])]))),128))]),_:1})):P("",!0)]),n(G,{class:"mt-5"}),n(G),e("div",ct,[n(F,{color:"red",class:"mr-3",onClick:a[4]||(a[4]=d=>_.value=!1),disabled:t(f)},{default:r(()=>[g("الغاء")]),_:1},8,["disabled"]),n(F,{color:"green",type:"submit",onClick:D,loading:t(f)},{default:r(()=>[g("حفظ")]),_:1},8,["loading"])])]),_:1})]),_:1},8,["modelValue"])])}}},ut=pt,_t={class:"dashboard_banners_listing"},mt={class:"page_toolbar d-flex align-center justify-space-between"},ft={class:"toolbar_btns"},vt=e("th",{style:{"white-space":"nowrap"}},"عرض الفرز",-1),gt={class:"w-100",style:{border:"1px solid #cfcfcf !important","border-radius":"7px"}},bt=e("thead",null,[e("tr",null,[e("th",{class:"text-center font-weight-bold",style:{padding:"10px 0 !important","background-color":"#f1f1f1 !important"}}," اسم الفرز "),e("th",{class:"text-center font-weight-bold",style:{padding:"10px 0 !important","background-color":"#f1f1f1 !important"}}," سعر الاردب "),e("th",{class:"text-center font-weight-bold",style:{padding:"10px 0 !important","background-color":"#f1f1f1 !important"}}," وزن الاردب ")])],-1),yt={class:"text-center",style:{padding:"10px 0 !important"}},ht={class:"text-center",style:{padding:"10px 0 !important"}},wt={class:"text-center",style:{padding:"10px 0 !important"}},$t=e("div",null,"لايوجد بيانات",-1),xt={__name:"Listing",props:["products","loading","units"],emits:["regetItems"],setup(w,{emit:T}){const y=h(!1),E=h(!1),A=h(!1),$=h(null),o=h(null),_=h(1),f=h(10),M=h([{title:"اسم المنتج",key:"name",width:"70%"},{title:"اجراء",key:"actions"}]),L=[{title:"الرئيسية",disabled:!1,to:{name:"index"}},{title:"المنتجات",disabled:!0}];return J(()=>_.value,z=>{T("regetItems",{page:z,limit:f.value})}),J(()=>f.value,z=>{T("regetItems",{page:_.value,limit:z})}),(z,c)=>{const D=p("v-icon"),s=p("v-btn"),a=p("v-breadcrumbs"),l=p("v-col"),k=p("v-row"),u=p("v-container"),S=Se,K=ut;return m(),x("div",_t,[e("div",mt,[e("div",ft,[n(s,{onClick:c[0]||(c[0]=v=>y.value=!0),width:"20",size:"sm",elevation:"0",color:"transparent"},{default:r(()=>[n(D,{color:"white",size:"25"},{default:r(()=>[g("mdi-plus-circle")]),_:1})]),_:1}),n(s,{width:"20",size:"sm",elevation:"0",color:"transparent",class:"ms-3"},{default:r(()=>[n(D,{color:"white",size:"25"},{default:r(()=>[g("mdi-printer")]),_:1})]),_:1})]),n(a,{items:L,dir:"rtl",class:"pa-0 mb"},{title:r(({item:v})=>[g(b(v.title.toUpperCase()),1)]),_:1})]),n(u,{class:"page_container",fluid:""},{default:r(()=>[w.products?(m(),C(k,{key:0,class:"px-4"},{default:r(()=>[n(l,{cols:"12",class:"section_container dashboard_table pa-0"},{default:r(()=>[n(t(ne),{headers:t(M),items:w.products.content,loading:w.loading,"items-per-page":t(f),"onUpdate:itemsPerPage":c[1]||(c[1]=v=>O(f)?f.value=v:null),page:t(_),"onUpdate:page":c[2]||(c[2]=v=>O(_)?_.value=v:null),"items-length":w.products.totalElements?w.products.totalElements:0,"no-data-text":"لايوجد بيانات","show-current-page":"","show-expand":""},{"column.data-table-expand":r(()=>[vt]),"expanded-row":r(({item:v})=>[e("table",gt,[bt,e("tbody",null,[(m(!0),x(Z,null,ee(v.selectable.typePriceList,N=>(m(),x("tr",{key:N.id},[e("td",yt,b(N.productType.name),1),e("td",ht,b(N.ardabPrice),1),e("td",wt,b(N.weightPerArdab),1)]))),128))])])]),loading:r(()=>[n(t(ie),{type:"table-row@3"})]),"item.index":r(({item:v})=>[g(b(v.index+1),1)]),"item.actions":r(({item:v})=>[n(D,{color:"blue",style:{cursor:"pointer"},onClick:N=>($.value=v,E.value=!0)},{default:r(()=>[g("mdi-square-edit-outline")]),_:2},1032,["onClick"]),n(s,{elevation:"0",color:"transparent",loading:v.selectable.loading,ripple:!1},{default:r(()=>[n(D,{color:"red",style:{cursor:"pointer"},class:"ml-2",size:"23",onClick:N=>(o.value=v.selectable,A.value=!0)},{default:r(()=>[g("mdi-lock")]),_:2},1032,["onClick"])]),_:2},1032,["loading"])]),"no-data":r(()=>[$t]),_:1},8,["headers","items","loading","items-per-page","page","items-length"])]),_:1})]),_:1})):P("",!0)]),_:1}),t(E)?(m(),C(S,{key:0,openPopup:t(E),onClosePopup:c[3]||(c[3]=v=>(E.value=!1,$.value=null)),toUpdate:t($),onRegetData:c[4]||(c[4]=v=>(_.value=1,T("regetItems",{page:1,limit:t(f)}))),units:w.units},null,8,["openPopup","toUpdate","units"])):P("",!0),t(y)?(m(),C(K,{key:1,openPopup:t(y),onClosePopup:c[5]||(c[5]=v=>y.value=!1),onRegetData:c[6]||(c[6]=v=>T("regetItems",{page:1,limit:t(f)})),units:w.units},null,8,["openPopup","units"])):P("",!0)])}}},Pt=xt,Tt={class:"dashboard_tests_page mb-10"},Ct={__name:"index",setup(w){const T=te(),y=le(),{products:E}=H(T),{units:A}=H(y),$=h(!0),o=async(_,f)=>{$.value=!0,await Promise.all([y.doGetUnits(0,1e4),T.doGetProducts(_-1,f)]),$.value=!1};return Y(()=>{o(1,10)}),(_,f)=>{const M=Pt;return m(),x("div",Tt,[n(M,{products:t(E),loading:t($),onRegetItems:f[0]||(f[0]=L=>o(L.page,L.limit)),units:t(A)},null,8,["products","loading","units"])])}}};export{Ct as default};
